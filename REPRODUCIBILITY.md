# Reproducibility Package

## Package Information

**Date Assembled**: December 27, 2025

**Author(s)**:
- Tapio Vepsäläinen
- University of Turku, 
- taalve@utu.fi
- ORCID 0000-0003-0956-3136

**Corresponding Author**: Tapio Vepsäläinen, taalve@utu.fi

## Repository Structure

```
candidate-model/
├── README.md                          # Basic project overview
├── requirements.txt                   # Python dependencies
├── candidate-model.ipynb              # Main model development and training notebook
├── ex-ante-forecast-2023.ipynb        # Ex ante forecasting for 2023 elections
├── ex-ante-forecast-2023.html         # HTML export of ex ante forecast
├── ex-ante-public-statement.md        # Public statement before elections
├── model_input_variables.png          # Visualization of input variables
├── raw_data.csv                       # Raw input data
├── districts.csv                      # District information
├── districts_2023.csv                 # District information for 2023
├── polls.csv                          # Polling data
├── ex_post_data.csv                   # Post-election validation data
└── machine_learning.xlsx              # Additional ML analysis/results
```

### Directory Organization
- **Root directory**: Contains all notebooks, data files, and documentation
- **Code**: Jupyter notebooks (`.ipynb` files)
- **Input data**: CSV and Excel files with historical and candidate data
- **Output data**: Generated within notebooks; HTML exports and visualizations

## Computing Environment

### Programming Language
- **Python**: Version 3.10 or higher
  - Tested on: Python 3.13.5
  - Recommended: Python 3.12 or 3.13

### Operating System
- Developed and tested on: macOS (Darwin 24.6.0)
- Should work on: Linux, Windows, macOS

### License
- [Specify your license here, e.g., MIT, GPL-3.0, CC-BY-4.0]

### Required Packages
All dependencies are listed in `requirements.txt` with specific versions:

**Core Data Science Libraries**:
- pandas==2.3.2
- numpy==2.2.6
- scipy==1.16.1

**Machine Learning**:
- scikit-learn==1.7.1
- xgboost==3.0.4
- shap==0.48.0

**Visualization**:
- matplotlib==3.10.6
- seaborn==0.13.2

**Jupyter Environment**:
- jupyterlab==4.4.7
- ipykernel==6.30.1
- ipython==9.5.0

**Data Processing**:
- openpyxl==3.1.5 (for Excel files)
- beautifulsoup4==4.13.5

For complete list with all dependencies, see `requirements.txt`.

### Environment Setup
The computing environment can be replicated using the provided `requirements.txt`:

```bash
python3 -m venv .venv
source .venv/bin/activate
pip install --upgrade pip
pip install -r requirements.txt
```

## Data Description

### Data Sources and Format

#### 1. `raw_data.csv`
- **Description**: Raw candidate and election data from historical Finnish elections
- **Format**: CSV (comma-separated values)
- **Access**: Included in this package
- **Origin**: [Specify source, e.g., Statistics Finland, Ministry of Justice]
- **Pre-processing**: [Describe any pre-processing steps]
- **Usage Restrictions**: [None / Specify if any]
- **Variables**: [List key variables, e.g., candidate_id, party, votes, district, etc.]

#### 2. `districts.csv` and `districts_2023.csv`
- **Description**: Electoral district information and characteristics
- **Format**: CSV
- **Access**: Included in this package
- **Origin**: [Specify source]
- **Notes**: Separate files for historical data and 2023-specific data

#### 3. `polls.csv`
- **Description**: Public opinion poll data used for forecasting
- **Format**: CSV
- **Access**: Included in this package
- **Origin**: [Specify polling organizations]
- **Usage Restrictions**: [Specify if any]

#### 4. `ex_post_data.csv`
- **Description**: Actual election results for validation and evaluation
- **Format**: CSV
- **Access**: Included in this package
- **Origin**: [Specify official source]

#### 5. `machine_learning.xlsx`
- **Description**: [Describe contents - model outputs, performance metrics, etc.]
- **Format**: Excel workbook
- **Access**: Included in this package

### Data Privacy and Anonymization
- Candidate names have been removed from datasets to protect privacy
- All data is aggregated or anonymized appropriately
- [Add any other relevant privacy information]

### Intermediary Datasets
The following intermediary datasets are generated by the notebooks:
- [List any intermediate files created during execution]
- These are generated from the raw data files listed above
- [Specify which notebook/code generates each intermediate file]

## Reproducing Results

### Main Analysis
To reproduce the main model development and training:

```bash
jupyter lab candidate-model.ipynb
```

This notebook produces:
- [List specific tables, figures, or results from the paper]
- [E.g., "Table 1: Model performance metrics"]
- [E.g., "Figure 2: Feature importance visualization"]

### Ex Ante Forecast (2023 Elections)
To reproduce the pre-election forecast:

```bash
jupyter lab ex-ante-forecast-2023.ipynb
```

This notebook produces:
- [List specific forecast results, tables, figures from the paper]
- [E.g., "Table 3: Predicted seat distribution by party"]
- [E.g., "Figure 4: District-level predictions"]

### Execution Order
1. Run `candidate-model.ipynb` first to develop and train the model
2. Run `ex-ante-forecast-2023.ipynb` to generate forecasts
3. [Add any additional notebooks and their order if applicable]

## Computational Requirements

### Hardware Used
- **Computer Type**: [Specify, e.g., MacBook Pro M1/M2, Linux workstation, etc.]
- **Processor**: [Specify, e.g., Apple M1 Pro, Intel i7, etc.]
- **RAM**: [Specify, e.g., 16 GB]
- **Storage**: [Specify if relevant]

### Expected Runtime
- `candidate-model.ipynb`: Approximately [X minutes/hours]
- `ex-ante-forecast-2023.ipynb`: Approximately [X minutes/hours]
- Total estimated runtime: [X minutes/hours]

**Note**: Runtime may vary depending on hardware specifications.

### Special Requirements
- **GPU**: Not required (all computations run on CPU)
- **Parallel Computing**: Not required (single-threaded execution)
- **Memory**: Minimum 8 GB RAM recommended, 16 GB preferred
- **Internet Connection**: Required only for initial package installation

## Data Availability Statement

### Datasets Included in Package
All datasets used in this analysis are included directly in this replication package:
- ✓ `raw_data.csv` - Included
- ✓ `districts.csv` - Included
- ✓ `districts_2023.csv` - Included
- ✓ `polls.csv` - Included
- ✓ `ex_post_data.csv` - Included
- ✓ `machine_learning.xlsx` - Included

### Datasets Available Elsewhere
[If any datasets are not included but available elsewhere, list them here with:]
- Repository/Website URL
- DOI (if applicable)
- Access instructions
- Any costs or registration requirements

### Non-Sharable Datasets
[If any datasets cannot be shared due to copyright, NDA, or restricted access:]

**Dataset Name**: [Name of restricted dataset]
- **Reason for restriction**: [Copyright / NDA / Privacy / Other]
- **Data Provider**: [Organization name]
- **Database Identifier**: [Name, DOI, vintage]
- **How to Obtain**:
  - Application procedure: [Describe steps]
  - Registration requirements: [Specify]
  - Monetary costs: [Specify or state "Free"]
  - Time requirements: [Expected waiting time]
  - Contact information: [Email/URL]
- **Instructions**: [Specific variables and ranges to request]
- **Third-Party Access**: [Yes/No - whether reproducers can access temporarily]

[If no restricted datasets: "N/A - All datasets are included in this package."]

## Troubleshooting

### Common Issues
1. **Package installation errors**: Ensure Python 3.10+ is installed
2. **Memory errors**: Increase available RAM or reduce dataset size in testing
3. **Runtime errors**: Check that all CSV files are in the same directory as notebooks

### Contact for Assistance
For questions regarding reproducibility:
- Email: [Your Email]
- Expected response time: [e.g., Within 1 week]

## Verification Checklist

To verify successful reproduction:
- [ ] All packages installed without errors
- [ ] `candidate-model.ipynb` runs completely
- [ ] `ex-ante-forecast-2023.ipynb` runs completely
- [ ] Generated tables match paper results (within numerical tolerance)
- [ ] Generated figures match paper figures visually

## Notes

### Version Control
- This reproducibility package corresponds to the manuscript version submitted on [Date]
- [Any notes about differences between versions if applicable]

### Known Issues
- [List any known bugs, limitations, or expected discrepancies]
- [E.g., "Minor numerical differences may occur due to random seed variations"]

### Updates
- [Note any updates to the package and their dates]

---

**Last Updated**: December 27, 2025

